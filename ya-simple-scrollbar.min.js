!function(){function attachScrollbarTo(element){var attribute="data-ya-simple-scrollbar";element.hasAttribute(attribute)||(element.setAttribute(attribute,attribute),initScrollbar(element))}function initScrollbar(element){for(var wrapper=createDivWithClassname("yass-wrapper"),content=wrapper.appendChild(createDivWithClassname("yass-content")),sensor=content.appendChild(createDivWithClassname("yass-sensor"));element.firstChild;)sensor.appendChild(element.firstChild);element.appendChild(wrapper);var scrollbar=wrapper.appendChild(createDivWithClassname("yass-scrollbar")),scrollbutton=scrollbar.appendChild(createDivWithClassname("yass-scrollbar-button"));element.style.overflow="hidden";var scrollbarPosition=function(){var containerHeight,contentHeight,scrollbarTop=null,scrollbarHeight=null,positionDirty=!1,repaintScrollButton=function(){positionDirty=!1;var contentOffset=content.scrollTop;containerHeight>=contentHeight?(scrollbarTop=scrollbarHeight=null,scrollbar.style.display="none"):(scrollbarHeight=containerHeight*containerHeight/contentHeight,scrollbarHeight=Math.max(Math.min(containerHeight/2,yaSimpleScrollbar.minHeight),scrollbarHeight),scrollbarTop=contentOffset/(contentHeight-containerHeight)*(containerHeight-scrollbarHeight),scrollbar.style.display="block",scrollbutton.style.height=scrollbarHeight+"px",scrollbutton.style.top=scrollbarTop+"px")},repaintScrollButtonNextFrame=function(){positionDirty||(positionDirty=!0,requestAnimationFrame(function(){repaintScrollButton()}))},onResize=function(){sensor.offsetWidth!==wrapper.offsetWidth&&(sensor.style.width=wrapper.offsetWidth+"px"),containerHeight=content.clientHeight,contentHeight=content.scrollHeight,repaintScrollButtonNextFrame()};resizeSensor(wrapper,onResize),resizeSensor(sensor,onResize),requestAnimationFrame(onResize);var moveAction=function(newTop){newTop=Math.max(0,Math.min(containerHeight-scrollbarHeight,newTop)),scrollbarTop!==newTop&&(content.scrollTop=newTop*contentHeight/(containerHeight-scrollbarHeight))};return{getTop:function(){return scrollbarTop},getHeight:function(){return scrollbarHeight},repaint:repaintScrollButton,move:moveAction}}();!function(){var lastPageY,lastScrollY;scrollbutton.addEventListener("mousedown",function(event){lastPageY=event.pageY,lastScrollY=scrollbarPosition.getTop(),document.addEventListener("mousemove",drag),document.addEventListener("mouseup",drop),scrollbar.className="yass-scrollbar yass-scrollbar-drag",event.preventDefault(),event.stopPropagation()});var busy=!1,currentPageY=null,drag=function(event){currentPageY=event.pageY,busy||(busy=!0,requestAnimationFrame(function(){busy=!1;var deltaY=currentPageY-lastPageY;scrollbarPosition.move(Math.round(lastScrollY+deltaY))}))},drop=function(){document.removeEventListener("mousemove",drag),document.removeEventListener("mouseup",drop),scrollbar.className="yass-scrollbar"}}(),content.addEventListener("scroll",scrollbarPosition.repaint)}var cssText=[".yass-wrapper { overflow: hidden; height: 100%; position: relative; z-index: 1; }",".yass-content { height: 100%; width: 100%; padding: 0 40px 0 0; position: relative; overflow-y: scroll; -moz-box-sizing: content-box; box-sizing: content-box; }",".yass-sensor { width: 100%; display: block; position: relative; }",".yass-scrollbar { position: absolute; background: rgba(127, 127, 127, 0.1); top: 0; right: 0; z-index: 2; width: 8px; height: 100%; cursor: pointer; opacity: 0; transition: opacity 0.1s linear; }",".yass-scrollbar-button { position: absolute; left: 0; width: 8px; border-radius: 4px; background: rgba(127, 127, 127, 0.2); }",".yass-wrapper:hover .yass-scrollbar, .yass-scrollbar.yass-scrollbar-drag { opacity: 1; }",".yass-resize-sensor, .yass-resize-sensor-expand, .yass-resize-sensor-shrink { position: absolute; top: 0; bottom: 0; left: 0; right: 0; overflow: hidden; z-index: -1; visibility: hidden; }",".yass-resize-sensor-expand .yass-resize-sensor-child { width: 100000px; height: 100000px; }",".yass-resize-sensor-shrink .yass-resize-sensor-child { width: 200%; height: 200%; }",".yass-resize-sensor-child { position: absolute; top: 0; left: 0; transition: 0s; }"].join("");!function(){var style=document.createElement("style");style.textContent=cssText,document.addEventListener("DOMContentLoaded",function(){(document.getElementsByTagName("head")[0]||document.body).appendChild(style)})}();var requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(f){return setTimeout(f,20)},createDivWithClassname=function(classname){var element=document.createElement("div");return element.className=classname,element},resizeSensor=function(element,resized){var sensor=createDivWithClassname("yass-resize-sensor"),expand=sensor.appendChild(createDivWithClassname("yass-resize-sensor-expand")),shrink=sensor.appendChild(createDivWithClassname("yass-resize-sensor-shrink"));expand.appendChild(createDivWithClassname("yass-resize-sensor-child")),shrink.appendChild(createDivWithClassname("yass-resize-sensor-child"));element.appendChild(sensor);var newWidth,newHeight,dirty,lastWidth=element.offsetWidth,lastHeight=element.offsetHeight,reset=function(){expand.scrollLeft=1e5,expand.scrollTop=1e5,shrink.scrollLeft=1e5,shrink.scrollTop=1e5};reset();var onResized=function(){lastWidth===newWidth&&lastHeight===newHeight||(lastWidth=newWidth,lastHeight=newHeight,resized(),reset())},onScroll=function(event){console.log("scroll",event),newWidth=element.offsetWidth,newHeight=element.offsetHeight,dirty||(dirty=!0,requestAnimationFrame(function(){dirty=!1,onResized()}))};expand.addEventListener("scroll",onScroll),shrink.addEventListener("scroll",onScroll)};window.yaSimpleScrollbar={attach:attachScrollbarTo,minHeight:40}}();
